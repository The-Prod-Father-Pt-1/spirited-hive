{{ 'section-holiday-hero.min.css' | asset_url | stylesheet_tag }}

{% comment %}
  Holiday Hero Section
  Purpose-built for "Hive for the Holidays" 2025 campaign
  Features: Christmas lights, festive theme, direct product CTA
{% endcomment %}

{% assign animation_offset = 2 %}
{% assign animation_order = 1 %}

<div
  class="holiday-hero wrapper-spacing--v wrapper-spacing--h color-scheme--{{ section.settings.colors }}"
  data-wetheme-section-type="holiday-hero"
  data-wetheme-section-id="{{ section.id }}"
  style="--padding-section-top: {{ section.settings.section_padding_top }}px; --padding-section-bottom: {{ section.settings.section_padding_bottom }}px;"
>
  <div class="width--content">
    <div class="holiday-hero__wrapper">

      {%comment%} Main Content Container {%endcomment%}
      <div class="holiday-hero__content">

        {%comment%} Christmas Lights Decoration {%endcomment%}
        {% if section.settings.show_christmas_lights %}
          <div class="holiday-hero__lights">
            {% for i in (1..20) %}
              <div class="holiday-hero__light holiday-hero__light--{{ forloop.index | modulo: 4 }}"></div>
            {% endfor %}
          </div>
        {% endif %}

        {%comment%} Text Content Block {%endcomment%}
        <div class="holiday-hero__text-block">

          {% if section.settings.headline != blank %}
            <h1
              class="holiday-hero__headline"
              data-animate
              data-animate-order="{{ animation_order | plus: animation_offset }}"
            >
              {{ section.settings.headline }}
            </h1>
            {% assign animation_order = animation_order | plus: 1 %}
          {% endif %}

          {% if section.settings.subheadline != blank %}
            <p
              class="holiday-hero__subheadline"
              data-animate
              data-animate-order="{{ animation_order | plus: animation_offset }}"
            >
              {{ section.settings.subheadline }}
            </p>
            {% assign animation_order = animation_order | plus: 1 %}
          {% endif %}

          {% if section.settings.description != blank %}
            <div
              class="holiday-hero__description"
              data-animate
              data-animate-order="{{ animation_order | plus: animation_offset }}"
            >
              {{ section.settings.description }}
            </div>
            {% assign animation_order = animation_order | plus: 1 %}
          {% endif %}

          {%comment%} CTA Button {%endcomment%}
          {% if section.settings.cta_label != blank %}
            <div
              class="holiday-hero__cta"
              data-animate
              data-animate-order="{{ animation_order | plus: animation_offset }}"
            >
              {% capture button_attr %}
                class="holiday-hero__button"
                data-animate
                data-animate-order="{{ animation_order | plus: animation_offset }}"
              {% endcapture %}

              {% render 'dynamic-section-button' with
                id: section.id,
                link: section.settings.cta_link,
                label: section.settings.cta_label,
                style: 'filled',
                wrapper: false,
                attributes: button_attr
              %}

              {% if section.settings.override_button_colors %}
                {% render 'button-color-overrides' with
                  id: section.id,
                  style: 'filled',
                  text_color: section.settings.button_text_color,
                  background_color: section.settings.button_background_color
                %}
              {% endif %}
            </div>
          {% endif %}
        </div>

        {%comment%} Product Image with Festive Decorations {%endcomment%}
        <div class="holiday-hero__image-wrapper">
          {% if section.settings.product_image != blank %}
            <div class="holiday-hero__image" data-animate data-animate-order="1">
              {% render 'responsive-image' with section.settings.product_image %}
            </div>
          {% else %}
            <div class="holiday-hero__image onboarding">
              {{ 'product-1' | placeholder_svg_tag: 'icon icon--placeholder' }}
            </div>
          {% endif %}

          {%comment%} Festive Decorations Overlay {%endcomment%}
          {% if section.settings.show_decorations %}
            <div class="holiday-hero__decorations">
              {% if section.settings.decoration_image_1 != blank %}
                <img src="{{ section.settings.decoration_image_1 | img_url: '300x300' }}" class="holiday-hero__decoration holiday-hero__decoration--1" alt="Holiday decoration" loading="lazy">
              {% endif %}
              {% if section.settings.decoration_image_2 != blank %}
                <img src="{{ section.settings.decoration_image_2 | img_url: '300x300' }}" class="holiday-hero__decoration holiday-hero__decoration--2" alt="Holiday decoration" loading="lazy">
              {% endif %}
            </div>
          {% endif %}
        </div>
      </div>

      {%comment%} Snow Effect {%endcomment%}
      {% if section.settings.show_snow_effect %}
        <div class="holiday-hero__snow">
          {% for i in (1..50) %}
            <div class="holiday-hero__snowflake"></div>
          {% endfor %}
        </div>
      {% endif %}

      {%comment%} Snow Mound with Embedded Cans {%endcomment%}
      {% if section.settings.show_snow_mound %}
        <div class="holiday-hero__snow-mound">
          <svg class="holiday-hero__snow-mound-svg" viewBox="0 0 1200 200" preserveAspectRatio="none">
            <path d="M0,100 C150,120 200,80 350,95 C500,110 550,70 700,90 C850,110 900,75 1050,95 C1150,110 1180,90 1200,100 L1200,200 L0,200 Z" fill="white" opacity="0.95"/>
          </svg>
          {% if section.settings.can_image_1 != blank %}
            <img src="{{ section.settings.can_image_1 | img_url: '200x200' }}" class="holiday-hero__can holiday-hero__can--1" alt="Spirited Hive Can" loading="lazy">
          {% endif %}
          {% if section.settings.can_image_2 != blank %}
            <img src="{{ section.settings.can_image_2 | img_url: '200x200' }}" class="holiday-hero__can holiday-hero__can--2" alt="Spirited Hive Can" loading="lazy">
          {% endif %}
          {% if section.settings.can_image_3 != blank %}
            <img src="{{ section.settings.can_image_3 | img_url: '200x200' }}" class="holiday-hero__can holiday-hero__can--3" alt="Spirited Hive Can" loading="lazy">
          {% endif %}
        </div>
      {% endif %}
    </div>
  </div>
</div>

<style>
  .holiday-hero {
    position: relative;
    overflow: hidden;
    background: {{ section.settings.background_color }};
  }

  .holiday-hero__wrapper {
    position: relative;
    min-height: {{ section.settings.min_height }}px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .holiday-hero__content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
    width: 100%;
  }

  .holiday-hero__text-block {
    text-align: {{ section.settings.text_alignment }};
  }

  .holiday-hero__headline {
    font-size: 3.5rem;
    font-weight: 700;
    color: {{ section.settings.headline_color }};
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .holiday-hero__subheadline {
    font-size: 1.5rem;
    color: {{ section.settings.text_color }};
    margin-bottom: 1rem;
    line-height: 1.4;
  }

  .holiday-hero__description {
    font-size: 1.125rem;
    color: {{ section.settings.text_color }};
    margin-bottom: 2rem;
    line-height: 1.6;
  }

  .holiday-hero__cta {
    margin-top: 2rem;
  }

  .holiday-hero__button {
    font-size: 1.125rem;
    padding: 1rem 2.5rem;
    border-radius: {{ section.settings.button_border_radius }}px;
  }

  .holiday-hero__image-wrapper {
    position: relative;
  }

  .holiday-hero__image {
    max-width: 100%;
    height: auto;
  }

  {%comment%} Christmas Lights {%endcomment%}
  .holiday-hero__lights {
    position: sticky;
    top: 0;
    z-index: 999;
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    padding: 1rem 0;
    background: linear-gradient(to bottom, {{ section.settings.background_color }} 0%, {{ section.settings.background_color }} 80%, transparent 100%);
  }

  .holiday-hero__light {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    animation: twinkle 1.5s infinite alternate;
  }

  .holiday-hero__light--0 { background-color: #ff4444; animation-delay: 0s; }
  .holiday-hero__light--1 { background-color: #44ff44; animation-delay: 0.3s; }
  .holiday-hero__light--2 { background-color: #4444ff; animation-delay: 0.6s; }
  .holiday-hero__light--3 { background-color: #ffff44; animation-delay: 0.9s; }

  @keyframes twinkle {
    from { opacity: 0.4; transform: scale(0.8); }
    to { opacity: 1; transform: scale(1.2); }
  }

  {%comment%} Snow Effect {%endcomment%}
  .holiday-hero__snow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .holiday-hero__snowflake {
    position: absolute;
    top: -10px;
    color: white;
    opacity: 0.8;
    animation: fall linear infinite;
  }

  .holiday-hero__snowflake:before {
    content: "‚ùÑ";
    font-size: 1rem;
  }

  {% for i in (1..50) %}
    .holiday-hero__snowflake:nth-child({{ i }}) {
      left: {{ i | times: 2 }}%;
      animation-duration: {{ i | modulo: 10 | plus: 5 }}s;
      animation-delay: {{ i | modulo: 5 }}s;
      font-size: {{ i | modulo: 3 | plus: 1 }}rem;
    }
  {% endfor %}

  @keyframes fall {
    from { transform: translateY(0); }
    to { transform: translateY(100vh); }
  }

  {%comment%} Snow Mound with Cans {%endcomment%}
  .holiday-hero__snow-mound {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 200px;
    z-index: 10;
  }

  .holiday-hero__snow-mound-svg {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .holiday-hero__can {
    position: absolute;
    bottom: 30px;
    width: 120px;
    height: auto;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
    transform: rotate(-5deg);
    transition: transform 0.3s ease;
  }

  .holiday-hero__can:hover {
    transform: rotate(-5deg) scale(1.1);
  }

  .holiday-hero__can--1 {
    left: 20%;
    bottom: 40px;
    transform: rotate(-8deg);
  }

  .holiday-hero__can--2 {
    left: 50%;
    transform: translateX(-50%) rotate(5deg);
    bottom: 35px;
  }

  .holiday-hero__can--3 {
    right: 20%;
    bottom: 45px;
    transform: rotate(10deg);
  }

  {%comment%} Responsive: Mobile {%endcomment%}
  @media (max-width: 768px) {
    .holiday-hero__content {
      grid-template-columns: 1fr;
      gap: 2rem;
      text-align: center;
    }

    .holiday-hero__headline {
      font-size: 2.5rem;
    }

    .holiday-hero__subheadline {
      font-size: 1.25rem;
    }

    .holiday-hero__text-block {
      text-align: center;
    }
  }

  {%comment%} Responsive: Tablet {%endcomment%}
  @media (min-width: 769px) and (max-width: 1024px) {
    .holiday-hero__headline {
      font-size: 3rem;
    }

    .holiday-hero__content {
      gap: 3rem;
    }
  }
</style>

{% schema %}
{
  "name": "Holiday Hero",
  "class": "holiday-hero-section show-on-scroll",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "Headline",
      "default": "Hive for the Holidays"
    },
    {
      "type": "textarea",
      "id": "subheadline",
      "label": "Subheadline",
      "default": "Make the Spirits Bright"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Celebrate the season with our signature vodka cranberry cocktail, sweetened with 100% organic wildflower honey.</p>"
    },
    {
      "type": "header",
      "content": "Call to Action"
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "Button Label",
      "default": "Shop Vodka Cranberry"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Product Image"
    },
    {
      "type": "image_picker",
      "id": "product_image",
      "label": "Main Product Image",
      "info": "Recommended: Cranberry vodka can with holiday decorations"
    },
    {
      "type": "header",
      "content": "Festive Decorations"
    },
    {
      "type": "checkbox",
      "id": "show_christmas_lights",
      "label": "Show Christmas Lights",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_snow_effect",
      "label": "Show Snow Effect",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_snow_mound",
      "label": "Show Snow Mound with Cans",
      "default": true,
      "info": "Displays a lumpy snow mound at the bottom with embedded product cans"
    },
    {
      "type": "image_picker",
      "id": "can_image_1",
      "label": "Can Image 1 (Left)"
    },
    {
      "type": "image_picker",
      "id": "can_image_2",
      "label": "Can Image 2 (Center)"
    },
    {
      "type": "image_picker",
      "id": "can_image_3",
      "label": "Can Image 3 (Right)"
    },
    {
      "type": "checkbox",
      "id": "show_decorations",
      "label": "Show Product Decorations",
      "default": false
    },
    {
      "type": "image_picker",
      "id": "decoration_image_1",
      "label": "Decoration Image 1 (Optional)"
    },
    {
      "type": "image_picker",
      "id": "decoration_image_2",
      "label": "Decoration Image 2 (Optional)"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "headline_color",
      "label": "Headline Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "checkbox",
      "id": "override_button_colors",
      "label": "Override Button Colors",
      "default": true
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button Background",
      "default": "#d62828"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text Alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "min_height",
      "label": "Minimum Height (px)",
      "min": 400,
      "max": 900,
      "step": 50,
      "default": 600
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "label": "Top Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "label": "Bottom Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "default": 60
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "label": "Button Border Radius",
      "min": 0,
      "max": 50,
      "step": 5,
      "default": 30
    },
    {
      "type": "select",
      "id": "colors",
      "label": "Color Scheme",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "1",
          "label": "First"
        },
        {
          "value": "2",
          "label": "Second"
        },
        {
          "value": "3",
          "label": "Third"
        }
      ],
      "default": "3"
    }
  ],
  "presets": [
    {
      "name": "Holiday Hero",
      "category": "Holiday Campaign"
    }
  ]
}
{% endschema %}
